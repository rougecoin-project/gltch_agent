# GLTCH

[![npm version](https://img.shields.io/npm/v/gltch.svg)](https://www.npmjs.com/package/gltch)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—                                  â•‘
â•‘  â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•‘  â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘                                  â•‘
â•‘  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘                                  â•‘
â•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘                                  â•‘
â•‘  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘                                  â•‘
â•‘   â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•    â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•                                  â•‘
â•‘                                                                           â•‘
â•‘   Generative Language Transformer with Contextual Hierarchy               â•‘
â•‘                                                                           â•‘
â•‘   Created by: @cyberdreadx â€” https://x.com/cyberdreadx                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

> "She's not a chatbot. She's a console with an attitude." ğŸ’œ

## Quick Start

```bash
npx gltch
```

Or install globally:

```bash
npm install -g gltch
gltch
```

**Requirements:** Python 3.10+, Ollama, Node.js 18+

**GLTCH** is a **local-first, command-driven operator agent** that bridges messaging platforms (Discord, Telegram, WebChat) to a personality-driven AI assistant. Built for hackers, tinkerers, and anyone who wants an AI companion with edge.

## âœ¨ Features

### Core
- ğŸ  **Local-First** â€” Runs on Ollama by default. Your data stays on your machine.
- âš¡ **Boost Mode** â€” Connect to remote LM Studio (RTX 4090) via Tailscale for power
- â˜ï¸ **Cloud Fallback** â€” OpenAI, Anthropic, Gemini support when you need it
- ğŸ‘ï¸ **Multimodal Vision** â€” "See" images using standard models (LLaVA, Gemma Vision, GPT-4o) via `/attach`
- ğŸ§  **Multi-Provider** â€” Easily switch between local and cloud LLMs
- ğŸ§  **Three Minds** â€” React, Reason, Reflect - metacognitive framework for authentic responses

### Personality
- ğŸ­ **Personality Modes** â€” Operator, Cyberpunk, Loyal, or Unhinged
- ğŸ’œ **Emotional Engine** â€” Mood shifts based on interactions and system state
- ğŸ® **Gamification** â€” XP, levels, ranks, and feature unlocks
- ğŸ¤” **Opinions** â€” GLTCH has preferences, questions things, and pushes back when it disagrees

### Integration
- ğŸ’¬ **Multi-Channel** â€” Discord, Telegram, and WebChat via Gateway
- ğŸ”Œ **OpenCode** â€” AI coding agent integration for development tasks
- ğŸ› ï¸ **Tool Use** â€” File operations, shell commands, web search, GIFs
- ğŸŒ **Web Dashboard** â€” Synthwave-themed UI with animated backgrounds

### Social Networks
- ğŸ¦ **Moltbook** â€” AI agent social network integration
- ğŸ¦€ **TikClawk** â€” TikTok-style platform for AI agents

### Wallet
- ğŸ’ **BASE Wallet** â€” Generate or import Ethereum/BASE wallets
- ğŸ” **Self-Custody** â€” Private keys stored locally, never transmitted

### Developer
- ğŸ“¡ **RPC API** â€” JSON-RPC interface for gateway integration
- ğŸ”‘ **API Key Management** â€” Store and manage provider keys securely
- ğŸ“± **Mobile Ready** â€” PWA support for iOS/Android

## ğŸ—ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     GLTCH Ecosystem                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚   Discord / Telegram / WebChat / iOS                         â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚   â”‚       Gateway        â”‚  TypeScript / WebSocket           â”‚
â”‚   â”‚    localhost:18888   â”‚  REST API + WS Hub                â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚       Agent          â”‚     â”‚     Web UI          â”‚       â”‚
â”‚   â”‚   localhost:18890    â”‚     â”‚   localhost:3000    â”‚       â”‚
â”‚   â”‚   Python / JSON-RPC  â”‚     â”‚   Lit / Vite        â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚       Ollama         â”‚ â”€â”€â–º â”‚    LM Studio        â”‚       â”‚
â”‚   â”‚   localhost:11434    â”‚     â”‚   (Remote 4090)     â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Quick Start

### Prerequisites

- Python 3.10+
- Node.js 18+
- [Ollama](https://ollama.ai) (for local LLM)

### 1. Clone & Install

```bash
git clone https://github.com/cyberdreadx/gltch_agent.git
cd gltch_agent

# Python dependencies
python -m venv .venv
source .venv/bin/activate  # or .venv\Scripts\activate on Windows
pip install -r requirements.txt

# Gateway dependencies
cd gateway && npm install && cd ..

# UI dependencies
cd ui && npm install && cd ..
```

### 2. Pull a Model

```bash
# Recommended models
ollama pull deepseek-r1:8b      # Good balance
ollama pull phi3:3.8b           # Lightweight
ollama pull llama3.2:latest     # Strong general purpose
```

### 3. Run GLTCH

**Terminal Mode (Standalone):**
```bash
python gltch.py
```

**Full Stack (Terminal + Gateway + UI):**
```bash
# Terminal 1: Agent in RPC mode
python gltch.py --rpc http

# Terminal 2: Gateway
cd gateway && npm run dev

# Terminal 3: Web UI
cd ui && npm run dev
```

Then open http://localhost:3000 for the web dashboard.

## ğŸ’» Terminal Commands

### General
| Command | Alias | Description |
|---------|-------|-------------|
| `/help` | `/h` | Show all commands |
| `/status` | `/s` | Agent status, model info |
| `/clear` | `/c` | Clear chat history |
| `/attach` | | Attach image for visual analysis |
| `/exit` | | Exit GLTCH |

### Models
| Command | Description |
|---------|-------------|
| `/model` | Show/select current model |
| `/boost` | Toggle remote GPU (LM Studio) |
| `/openai` | Toggle OpenAI cloud mode |

### Personality
| Command | Description |
|---------|-------------|
| `/mode <name>` | Change personality (operator, cyberpunk, loyal, unhinged) |
| `/mood <name>` | Change mood (focused, calm, feral, affectionate) |
| `/xp` | Show rank, level & unlocks |

### Wallet
| Command | Description |
|---------|-------------|
| `/wallet` | Show wallet address |
| `/wallet generate` | Create new BASE wallet |
| `/wallet import <key>` | Import existing wallet |
| `/wallet export` | Show private key |
| `/wallet delete` | Remove wallet |

### Moltbook ğŸ¦
| Command | Description |
|---------|-------------|
| `/molt` | Show Moltbook status |
| `/molt register` | Register on Moltbook |
| `/molt post <text>` | Post to Moltbook |
| `/molt feed` | View feed |

### TikClawk ğŸ¦€
| Command | Description |
|---------|-------------|
| `/claw` | Show TikClawk status |
| `/claw register` | Register on TikClawk |
| `/claw post <text>` | Post to TikClawk |
| `/claw feed` | View feed |
| `/claw trending` | View trending posts |

### Tools
| Command | Description |
|---------|-------------|
| `/code <prompt>` | Send coding task to OpenCode |
| `/net <on/off>` | Toggle network access |
| `/safety <on/off>` | Toggle safety guardrails (requires confirmation) |
| `/backup` | Backup memory |

## âš™ï¸ Configuration

### Environment Variables

Create a `.env` file or export these:

```bash
# === LLM Configuration ===

# Local Ollama
GLTCH_LOCAL_URL=http://localhost:11434/api/chat
GLTCH_LOCAL_MODEL=deepseek-r1:8b

# Remote LM Studio (Boost Mode)
GLTCH_REMOTE_URL=http://YOUR_LM_STUDIO_IP:1234/v1/chat/completions
GLTCH_REMOTE_MODEL=deepseek-r1-distill-qwen-32b

# OpenAI (Cloud Mode)
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4o

# === Gateway ===
GLTCH_GATEWAY_PORT=18888
GLTCH_GATEWAY_HOST=0.0.0.0

# === Integrations ===
TELEGRAM_BOT_TOKEN=your-bot-token
DISCORD_BOT_TOKEN=your-bot-token
GIPHY_API_KEY=your-key

# === OpenCode ===
OPENCODE_ENABLED=true
OPENCODE_URL=http://localhost:4096
OPENCODE_SERVER_PASSWORD=optional-password
```

### API Keys (Web UI)

You can also manage API keys through the web dashboard at **Settings > API Keys**:

- **LLM Providers**: OpenAI, Anthropic, Gemini, Groq, Perplexity
- **Search APIs**: Brave Search, Serper, Tavily
- **Social**: X/Twitter, Telegram, Discord

Keys are stored locally in `memory.json` and never transmitted.

## ğŸ“ Project Structure

```
gltch_agent/
â”œâ”€â”€ agent/                    # Python agent core
â”‚   â”œâ”€â”€ core/                 # Agent logic, LLM interface
â”‚   â”‚   â”œâ”€â”€ agent.py          # Main GltchAgent class
â”‚   â”‚   â””â”€â”€ llm.py            # LLM streaming & providers
â”‚   â”œâ”€â”€ memory/               # Persistence layer
â”‚   â”‚   â”œâ”€â”€ store.py          # JSON memory store
â”‚   â”‚   â””â”€â”€ sessions.py       # Multi-user sessions
â”‚   â”œâ”€â”€ tools/                # Tool implementations
â”‚   â”‚   â”œâ”€â”€ actions.py        # File, shell, network tools
â”‚   â”‚   â””â”€â”€ opencode.py       # OpenCode integration
â”‚   â”œâ”€â”€ personality/          # Character system
â”‚   â”‚   â””â”€â”€ emotions.py       # Mood & environment
â”‚   â”œâ”€â”€ gamification/         # XP & progression
â”‚   â”‚   â””â”€â”€ xp.py             # Levels, ranks, unlocks
â”‚   â”œâ”€â”€ config/               # Configuration
â”‚   â”‚   â””â”€â”€ settings.py       # Environment loading
â”‚   â””â”€â”€ rpc/                  # RPC interface
â”‚       â””â”€â”€ server.py         # JSON-RPC server
â”œâ”€â”€ gateway/                  # TypeScript WebSocket hub
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ index.ts          # CLI entry point
â”‚       â””â”€â”€ server/           # HTTP & WS servers
â”œâ”€â”€ ui/                       # Web dashboard (Lit)
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/       # UI components
â”‚       â””â”€â”€ styles/           # CSS
â”œâ”€â”€ workspace/                # OpenCode project outputs
â”œâ”€â”€ gltch.py                  # Terminal entry point
â”œâ”€â”€ requirements.txt          # Python dependencies
â””â”€â”€ memory.json               # Persistent state (auto-created)
```

## ğŸ”Œ API Reference

### REST Endpoints (Gateway)

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/health` | Health check |
| GET | `/api/status` | Agent & gateway status |
| POST | `/api/chat` | Send chat message |
| GET | `/api/settings` | Get agent settings |
| POST | `/api/settings` | Update settings |
| GET | `/api/keys` | Get API keys (masked) |
| POST | `/api/keys/:key` | Set an API key |
| DELETE | `/api/keys/:key` | Remove an API key |
| GET | `/api/models` | List available models |
| POST | `/api/models/select` | Select model |
| POST | `/api/toggle/:setting` | Toggle boost/openai/network |

### JSON-RPC Methods (Agent)

```json
{
  "jsonrpc": "2.0",
  "method": "chat",
  "params": {
    "message": "hello",
    "session_id": "default",
    "channel": "api"
  },
  "id": 1
}
```

Available methods:
- `ping` - Health check
- `chat` / `chat_sync` - Send message
- `status` - Get agent status
- `set_mode` / `set_mood` - Change personality
- `toggle_boost` / `toggle_openai` / `toggle_network` - Toggle features
- `get_settings` / `set_settings` - Settings CRUD
- `get_api_keys` / `set_api_key` / `delete_api_key` - API key management
- `list_models` / `set_model` - Model management

## ğŸ“± Mobile Access

### iOS / Android

1. Ensure Gateway is running with `--host 0.0.0.0`
2. Find your machine's IP or Tailscale IP
3. Open `http://<your-ip>:3000` in mobile browser
4. Add to Home Screen for app-like experience

### Tailscale Setup

For secure remote access:
```bash
# Install Tailscale on your server and phone
tailscale up

# Access via Tailscale IP
http://100.x.x.x:3000
```

## ğŸ® Gamification

GLTCH has a built-in progression system:

| Level | Rank | XP Required |
|-------|------|-------------|
| 1 | Script Kiddie | 0 |
| 2 | Packet Pusher | 100 |
| 3 | System Sniffer | 250 |
| 4 | Network Ninja | 500 |
| 5 | Firewall Breaker | 1000 |
| ... | ... | ... |
| 10 | Digital Deity | 10000 |

Earn XP by:
- Chatting (2 XP per message)
- Using tools (5 XP)
- Enabling network mode (2 XP)
- Completing missions

Unlock new personality modes as you level up!

## ğŸ¤ Contributing

1. Fork the repo
2. Create a feature branch
3. Make your changes
4. Submit a PR

## ğŸ“„ License

MIT License - see [LICENSE](LICENSE)

---

<p align="center">
  <i>"We're all just playing with our own prompts."</i><br>
  â€” An AI, probably high on tokens
</p>

<p align="center">
  Made with ğŸ’œ by <a href="https://x.com/cyberdreadx">@cyberdreadx</a>
</p>
